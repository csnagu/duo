(function(t){function e(e){for(var s,o,i=e[0],c=e[1],l=e[2],d=0,v=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&v.push(a[o][0]),a[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],s=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(s=!1)}s&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var s={},a={app:0},r=[];function o(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=s,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(n,s,function(e){return t[e]}.bind(null,s));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/duo/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);var s=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-content",[n("Todo")],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",[n("v-container",{attrs:{justify:"center"}},[n("v-row",[n("v-flex",{attrs:{xs2:""}},[n("v-btn",{attrs:{icon:"",color:"deep-orange lighten-1"},on:{click:function(e){return t.addTask(t.tasks)}}},[n("v-icon",{attrs:{id:"addTaskBtn",large:""}},[t._v("mdi-plus")])],1)],1),n("v-flex",{attrs:{xs2:""}},[n("v-btn",{attrs:{icon:"",color:"deep-orange lighten-1"},on:{click:function(e){return t.exportText()}}},[n("v-icon",{attrs:{id:"addTaskBtn",large:""}},[t._v("mdi-content-save")])],1)],1)],1),n("v-col",{staticClass:"py-0"},[n("draggable",{attrs:{options:{group:"tasks"}},model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}},t._l(t.tasks,(function(e){return n("div",{key:e.id},[n("v-row",{attrs:{align:"center"}},[0!==e.tasks.length?n("v-flex",{attrs:{xs1:""}},[n("Progress",{attrs:{task:e}})],1):n("v-flex",{attrs:{xs1:""},on:{click:function(n){return t.doneTask(e)}}},[e.done?t._e():n("v-btn",{attrs:{icon:"",color:"green",loading:e.loading}},[n("v-icon",{staticClass:"doneTaskBtn"},[t._v("mdi-circle-outline")])],1),e.done?n("v-icon",{staticClass:"doneTaskBtn",attrs:{color:"green"}},[t._v("mdi-check")]):t._e()],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{"single-line":"",disabled:e.done,autofocus:""},model:{value:e.item,callback:function(n){t.$set(e,"item",n)},expression:"task.item"}})],1),n("v-flex",{attrs:{xs1:""}},[e.done?t._e():n("v-btn",{attrs:{icon:"",color:"pink lighten-2"},on:{click:function(n){return t.addTask(e)}}},[n("v-icon",{attrs:{id:"addTaskBtn"}},[t._v("mdi-plus")])],1)],1),n("v-flex",{attrs:{xs3:""}},[n("Timer",{attrs:{parentTask:null,task:e}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-icon",{staticClass:"removeTaskBtn",on:{click:function(n){return t.removeTask(e)}}},[t._v("mdi-delete")])],1)],1),n("draggable",{attrs:{options:{group:"task.tasks"}},model:{value:e.tasks,callback:function(n){t.$set(e,"tasks",n)},expression:"task.tasks"}},t._l(e.tasks,(function(s){return n("div",{key:s.id},[n("v-row",{attrs:{align:"center",justify:"start"}},[n("v-flex",{attrs:{xs1:""}}),n("v-flex",{attrs:{xs1:""},on:{click:function(e){return t.doneTask(s)}}},[s.done?t._e():n("v-btn",{attrs:{icon:"",color:"green",loading:s.loading}},[n("v-icon",{staticClass:"doneTaskBtn"},[t._v("mdi-circle-outline")])],1),s.done?n("v-icon",{staticClass:"doneTaskBtn",attrs:{color:"green"}},[t._v("mdi-check")]):t._e()],1),n("v-flex",{attrs:{xs6:""}},[n("v-text-field",{attrs:{disabled:s.done,autofocus:""},model:{value:s.item,callback:function(e){t.$set(s,"item",e)},expression:"child.item"}})],1),n("v-flex",{attrs:{xs3:""}},[n("Timer",{attrs:{parentTask:e,task:s}})],1),n("v-flex",{attrs:{xs1:""}},[n("v-icon",{staticClass:"removeTaskBtn",on:{click:function(n){e.tasks=t.removeSubTask(e.tasks,s)}}},[t._v("mdi-delete")])],1)],1)],1)})),0)],1)})),0)],1)],1)],1)},i=[],c=n("310e"),l=n.n(c),u=n("5118");const d=t=>{const e=String(Math.floor(t/36e5)+100).substring(1),n=String(Math.floor((t-36e5*e)/6e4)+100).substring(1),s=String(Math.floor((t-36e5*e-6e4*n)/1e3)+100).substring(1);return`${e}:${n}:${s}`};var v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"align-center":""}},[n("v-flex",{attrs:{xs3:""}},[t.task.done||0!==t.task.tasks.length?t._e():n("v-btn",{attrs:{icon:"",color:"blue",disabled:t.task.done},on:{click:function(e){return t.timer(t.task)}}},[t.task.isRunning?n("v-icon",{staticClass:"timerBtn"},[t._v("mdi-watch-vibrate")]):n("v-icon",{staticClass:"timerBtn"},[t._v("mdi-timer")])],1)],1),n("v-flex",{attrs:{xs9:""}},[n("v-col",[0!==t.task.tasks.length||t.task.done?t._e():n("span",{staticClass:"wipTime"},[t._v(t._s(t._f("timeFormatter")(t.task.wipTime)))]),n("v-spacer"),n("span",{staticClass:"workTime"},[t._v(t._s(t._f("timeFormatter")(t.task.workTime)))])],1)],1)],1)},f=[],k={props:{task:Object,parentTask:Object},filters:{timeFormatter:function(t){return d(t)}},watch:{"task.done":function(){this.task.isRunning&&this.stopTimer(this.task)}},methods:{timer:function(t){t.isRunning?this.stopTimer(t):(t.isRunning=!0,t.startTime=Date.now(),this.startTimer(t))},startTimer:function(t){const e=Date.now();t.wipTime=e-t.startTime,t.timerAnimation=requestAnimationFrame(()=>{this.startTimer(t)})},stopTimer:function(t){this.parentTask&&(this.parentTask.workTime+=t.wipTime),t.workTime+=t.wipTime,t.isRunning=!1,cancelAnimationFrame(t.timerAnimation)}}},m=k,p=n("2877"),g=n("6544"),h=n.n(g),T=n("8336"),b=n("62ad"),x=n("0e8f"),_=n("132d"),w=n("a722"),y=n("2fa4"),C=Object(p["a"])(m,v,f,!1,null,null,null),j=C.exports;h()(C,{VBtn:T["a"],VCol:b["a"],VFlex:x["a"],VIcon:_["a"],VLayout:w["a"],VSpacer:y["a"]});var O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"align-center":""}},[t.task.done?t._e():n("v-btn",{attrs:{icon:"",disabled:""}},[t.task.progress>=.875?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-7")]):t.task.progress>=.75?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-6")]):t.task.progress>=.625?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-5")]):t.task.progress>=.5?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-4")]):t.task.progress>=.375?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-3")]):t.task.progress>=.25?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-2")]):t.task.progress>=.125?n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-slice-1")]):n("v-icon",{staticClass:"doneProgress"},[t._v("mdi-circle-outline")])],1),t.task.progress>=1?n("v-icon",{staticClass:"doneProgress",attrs:{color:"green"}},[t._v("mdi-check")]):t._e()],1)},$=[],V={props:{task:Object},watch:{"task.done":function(){this.task.progress=1},"task.progress":function(t){1===t&&(this.task.done=!0)},"task.tasks":{handler:function(t){console.log(this.task),this.task.progress=t.filter(t=>t.done).length/t.length},deep:!0}}},P=V,B=Object(p["a"])(P,O,$,!1,null,null,null),S=B.exports;h()(B,{VBtn:T["a"],VIcon:_["a"],VLayout:w["a"]});var F={components:{draggable:l.a,Timer:j,Progress:S},data:function(){return{tasks:[]}},methods:{doneTask:function(t){t.loading=!0,Object(u["setTimeout"])(()=>{t.done=!0,t.loading=!1},500)},addTask:function(t){let e={id:this.getUniqueStr(),item:"",done:!1,workTime:0,startTime:0,wipTime:0,isRunning:!1,timerAnimation:void 0,loading:!1,tasks:[],progress:0};Array.isArray(t)?t.push(e):t.tasks.push(e)},removeTask:function(t){this.tasks=this.tasks.filter(e=>e!==t)},removeSubTask:function(t,e){return t.filter(t=>t!==e)},getUniqueStr:function(){var t=1e3;return(new Date).getTime().toString(16)+Math.floor(t*Math.random()).toString(16)},exportText:function(){let t="";this.tasks.forEach(e=>{t+=`${e.item}, ${d(e.workTime)}, ${e.done?"done":"not done"}\n`,e.tasks.forEach(e=>{t+=`\t${e.item}, ${d(e.workTime)}, ${e.done?"done":"not done"}\n`})});const e=new Date,n=e.getFullYear(),s=("00"+(e.getMonth()+1)).slice(-2),a=("00"+e.getDate()).slice(-2),r=new Blob([t],{type:"text/plain"}),o=document.createElement("a");o.href=window.URL.createObjectURL(r),o.download=`todo-${n}-${s}-${a}.txt`,o.click()}}},M=F,A=n("a523"),R=n("4bd4"),E=n("0fd9"),D=n("8654"),L=Object(p["a"])(M,o,i,!1,null,null,null),U=L.exports;h()(L,{VBtn:T["a"],VCol:b["a"],VContainer:A["a"],VFlex:x["a"],VForm:R["a"],VIcon:_["a"],VRow:E["a"],VTextField:D["a"]});var q={name:"App",components:{Todo:U},data:()=>({})},I=q,J=n("7496"),Y=n("a75b"),z=Object(p["a"])(I,a,r,!1,null,null,null),G=z.exports;h()(z,{VApp:J["a"],VContent:Y["a"]});var H=n("f309");s["a"].use(H["a"]);var K=new H["a"]({icons:{iconfont:"mdi"}});s["a"].config.productionTip=!1,new s["a"]({vuetify:K,render:t=>t(G)}).$mount("#app")}});
//# sourceMappingURL=app.115dabfe.js.map